{% load analyzer_extras %} {% load static %}
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}" />
  </head>
  <body>
    <a href="{%url 'recorder:view' race_id %}"
      >Go back to the records of the race</a
    >
    {%if temp_predictions or temp_message or fastestlap_predictions or fastestlap_message%} 
    {%if temp_predictions or temp_message%}
    <h1>Predictions of the karts` temp:</h1>
    {%if temp_predictions%} {%for table in temp_predictions%}
    <table class="section">
      <tr>
        {%for header in table.0%}
        <th>
          {{header}} {%if header != "kart"%}, score =
          {{temp_r2_scores|lookup:header}}
        </th>
        {%endif%} {%endfor%}
      </tr>
      {%for row in table%}
      <tr>
        {%for item in row.items %}
        <td>{{item.1}}</td>
        {%endfor%}
      </tr>
      {%endfor%}
    </table>
    {%endfor%} {% else %}
    <p>{{temp_message}}</p>
    {%endif%} {%endif%} {%if astestlap_predictions or fastestlap_message%}
    <h1>Predictions of the karts` fastest lap:</h1>
    {%if fastestlap_predictions%} {%for table in fastestlap_predictions%}
    <table class="section">
      <tr>
        {%for header in table.0%}
        <th>
          {{header}} {%if header != "kart"%}, score =
          {{fastestlap_r2_scores|lookup:header}}
        </th>
        {%endif%} {%endfor%}
      </tr>
      {%for row in table%}
      <tr>
        {%for item in row.items %}
        <td>{{item.1}}</td>
        {%endfor%}
      </tr>
      {%endfor%}
    </table>
    {%endfor%} {% else %}
    <p>{{fastestlap_message}}</p>
    {%endif%} {%endif%}
    {% else %}
    <p>There are no viable records to analyze for this race.</p>
    {%endif%}
  </body>
</html>
